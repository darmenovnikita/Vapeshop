<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--tg-theme-bg-color, #f5f5f5);
        }

        /* –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù –° –¢–í–û–ò–ú DRAG 3 */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #0a0f1e;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.8s ease;
        }

        .splash-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .drag3-container {
            position: relative;
            width: 350px;
            height: 700px;
            background: url('https://i.ibb.co/spG6mvWz/6149162617.jpg') no-repeat center/contain;
            /* –¢–í–û–Å –§–û–¢–û! */
        }

        /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω (–Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ–º –ø–æ–≤–µ—Ä—Ö —Ñ–æ—Ç–æ) */
        .screen-overlay {
            position: absolute;
            top: 230px;      /* –ü–æ–¥–æ–≥–Ω–∞–Ω–æ –ø–æ–¥ —Ç–≤–æ—ë —Ñ–æ—Ç–æ */
            left: 85px;       /* –ü–æ–¥–æ–≥–Ω–∞–Ω–æ –ø–æ–¥ —Ç–≤–æ—ë —Ñ–æ—Ç–æ */
            width: 180px;     /* –®–∏—Ä–∏–Ω–∞ —ç–∫—Ä–∞–Ω–∞ */
            height: 100px;    /* –í—ã—Å–æ—Ç–∞ —ç–∫—Ä–∞–Ω–∞ */
            background: rgba(0, 0, 0, 0.85);
            border-radius: 12px;
            border: 2px solid #4ade80;
            box-shadow: 
                inset 0 0 30px #4ade80,
                0 0 30px rgba(74, 222, 128, 0.5);
            color: #4ade80;
            font-family: 'Courier New', monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(2px);
        }

        .watts-big {
            font-size: 52px;
            font-weight: bold;
            text-shadow: 0 0 20px #4ade80;
            line-height: 1;
            letter-spacing: 2px;
        }

        .watts-unit {
            font-size: 24px;
            opacity: 0.8;
        }

        .progress-bar {
            width: 90%;
            height: 6px;
            background: #1a2a1a;
            border-radius: 3px;
            margin: 8px 0;
            border: 1px solid #4ade80;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4ade80, #fbbf24, #ef4444);
            border-radius: 3px;
            transition: width 0.1s linear;
            box-shadow: 0 0 15px #fbbf24;
        }

        .info-text {
            font-size: 12px;
            display: flex;
            gap: 15px;
            color: #4ade80;
            text-shadow: 0 0 5px #4ade80;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç –∫–Ω–æ–ø–∫–∏ Fire */
        .fire-effect {
            position: absolute;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ff0000, #ff8800, transparent);
            border-radius: 50%;
            filter: blur(15px);
            opacity: 0;
            animation: firePulse 1s infinite;
            pointer-events: none;
        }

        .fire-effect.active {
            opacity: 0.7;
        }

        @keyframes firePulse {
            0%, 100% { transform: translateX(-50%) scale(1); opacity: 0.3; }
            50% { transform: translateX(-50%) scale(1.3); opacity: 0.8; }
        }

        /* –ü–∞—Ä –∏–∑ –¥—Ä–∏–ø–∫–∏ */
        .vapor {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.3);
            filter: blur(20px);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
        }

        .vapor.active {
            animation: vaporRise 1.5s infinite;
        }

        @keyframes vaporRise {
            0% { 
                opacity: 0;
                transform: translateX(-50%) translateY(0) scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: translateX(-50%) translateY(-50px) scale(2.5);
            }
            100% { 
                opacity: 0;
                transform: translateX(-50%) translateY(-120px) scale(4);
            }
        }

        /* –ë—Ä–µ–Ω–¥ */
        .brand {
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font-size: 24px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 4px;
            text-shadow: 0 0 15px #4ade80;
        }

        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ (–ú–ê–ì–ê–ó–ò–ù) */
        .main-content {
            opacity: 0;
            transition: opacity 0.5s ease;
            padding: 15px;
        }

        .main-content.visible {
            opacity: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .header h1 {
            font-size: 28px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .products {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            padding: 15px;
            display: flex;
            gap: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .product-image {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 40px;
        }

        .product-info {
            flex: 1;
        }

        .product-title {
            font-size: 18px;
            font-weight: bold;
        }

        .product-nic {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }

        .product-price {
            font-size: 22px;
            font-weight: bold;
            color: #40a7e3;
        }

        .add-to-cart {
            background: #40a7e3;
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- –ó–ê–ì–†–£–ó–û–ß–ù–´–ô –≠–ö–†–ê–ù -->
    <div class="splash-screen" id="splash">
        <div class="drag3-container">
            <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ–≤–µ—Ä—Ö —Ñ–æ—Ç–æ -->
            <div class="screen-overlay" id="screenOverlay">
                <div class="watts-big" id="wattsDisplay">
                    0<span class="watts-unit">W</span>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="info-text">
                    <span id="ohms">0.15Œ©</span>
                    <span id="volts">3.7V</span>
                </div>
            </div>

            <!-- –≠—Ñ—Ñ–µ–∫—Ç –∫–Ω–æ–ø–∫–∏ Fire -->
            <div class="fire-effect" id="fireEffect"></div>
            
            <!-- –ü–∞—Ä -->
            <div class="vapor" id="vaporEffect"></div>

            <!-- –ë—Ä–µ–Ω–¥ -->
            <div class="brand">DRAG 3</div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div class="main-content" id="mainContent">
        <div class="header">
            <h1>VAPE SHOP üí®</h1>
            <p>–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–µ –∂–∏–¥–∫–æ—Å—Ç–∏</p>
        </div>

        <div class="products">
            <div class="product-card">
                <div class="product-image">ü´ê</div>
                <div class="product-info">
                    <div class="product-title">Blueberry Ice</div>
                    <div class="product-nic">3mg / 50ml</div>
                    <div class="product-price">450 ‚ÇΩ</div>
                    <button class="add-to-cart">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
            <div class="product-card">
                <div class="product-image">ü•≠</div>
                <div class="product-info">
                    <div class="product-title">Mango Passion</div>
                    <div class="product-nic">6mg / 100ml</div>
                    <div class="product-price">650 ‚ÇΩ</div>
                    <button class="add-to-cart">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // –ê–ù–ò–ú–ê–¶–ò–Ø –ó–ê–ì–†–£–ó–ö–ò
        let watts = 0;
        const targetWatts = 100;
        const duration = 5000; // 5 —Å–µ–∫—É–Ω–¥
        const interval = 50; // –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 50–º—Å
        const steps = duration / interval;
        const increment = targetWatts / steps;

        const wattsDisplay = document.getElementById('wattsDisplay');
        const progressFill = document.getElementById('progressFill');
        const fireEffect = document.getElementById('fireEffect');
        const vaporEffect = document.getElementById('vaporEffect');
        const ohmsSpan = document.getElementById('ohms');
        const voltsSpan = document.getElementById('volts');

        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –∏ –≤–æ–ª—å—Ç–∞–∂–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–º–∞
        const ohmsValues = [0.12, 0.15, 0.18, 0.20, 0.15, 0.13];
        const voltsValues = [3.2, 3.5, 3.7, 4.0, 4.2, 3.8];

        let timer = setInterval(() => {
            watts += increment;
            
            if (watts >= targetWatts) {
                watts = targetWatts;
                clearInterval(timer);
                
                setTimeout(() => {
                    document.getElementById('splash').classList.add('hidden');
                    document.getElementById('mainContent').classList.add('visible');
                    
                    if (tg.HapticFeedback) {
                        tg.HapticFeedback.notificationOccurred('success');
                    }
                }, 500);
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å–ø–ª–µ—è
            wattsDisplay.innerHTML = Math.floor(watts) + '<span class="watts-unit">W</span>';
            progressFill.style.width = (watts / targetWatts * 100) + '%';

            // –ú–µ–Ω—è–µ–º –ø–æ–∫–∞–∑–∞–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª–∏–∑–º–∞
            let index = Math.floor(watts / 20);
            ohmsSpan.textContent = ohmsValues[index % ohmsValues.length] + 'Œ©';
            voltsSpan.textContent = voltsValues[index % voltsValues.length] + 'V';

            // –≠—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –≤—ã—Å–æ–∫–∏—Ö –≤–∞—Ç—Ç–∞—Ö
            if (watts > 70) {
                fireEffect.classList.add('active');
            } else {
                fireEffect.classList.remove('active');
            }

            if (watts > 80) {
                vaporEffect.classList.add('active');
            } else {
                vaporEffect.classList.remove('active');
            }

            // –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞
            if (Math.floor(watts) % 10 === 0 && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }

        }, interval);
    </script>
</body>
</html>
